@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
@model QualityControl.Db.Company
@section head{
    <title>企业信息</title>
}

<div class="am-margin-lg am-padding-lg ui center aligned container">
    <div class="am-padding-horizontal-lg">
        <div class="am-padding-horizontal-lg">
            <form class="ui form segment" method="post">
                <h2>企业信息</h2>

                <div class="two fields">
                    <div class="field">
                        <label>企业名称</label>
                        <input placeholder="企业名称" name="Name" type="text" value="@(Model != null ? Model.Name : "")">
                    </div>
                    <div class="field">
                        <label>注册时间</label>
                        <input placeholder="注册时间" name="EstablishedTime" type="date" value='@(Model != null ? Model.EstablishedTime.ToString("yyy-MM-dd") : "")'>
                    </div>
                </div>
                <div class="field">
                    <label>注册地址</label>
                    <input placeholder="注册地址" name="Address" type="text" value="@(Model != null ? Model.Address : "")">
                </div>
                <div class="two fields">
                    <div class="field">
                        <label>法人姓名</label>
                        <input placeholder="法人姓名" name="CorporationName" type="text" value="@(Model != null ? Model.CorporationName : "")">
                    </div>
                    <div class="field">
                        <label>法人身份证号</label>
                        <input placeholder="法人身份证号" type="text" name="CorporationIdentity" value="@(Model != null ? Model.CorporationIdentity : "")">
                    </div>
                </div>
                <div class="two fields">
                    <div class="field">
                        <label>营业执照号</label>
                        <input placeholder="营业执照号" name="License" type="text" value="@(Model != null ? Model.License : "")">
                    </div>
                    <div class="field">
                        <label>组织机构代码</label>
                        <input placeholder="组织机构代码" type="text" name="OrganizationCode" value="@(Model != null ? Model.OrganizationCode : "")">
                    </div>
                </div>
                <div class="field">
                    <label>营业执照经营范围</label>
                    <textarea rows="2" name="LicenseScope" placeholder="营业执照经营范围">@(Model != null ? Model.LicenseScope : "")</textarea>
                </div>
                <div class="ui error message"></div>
                <div class="ui red cancel button">取消</div>
                <div class="ui blue submit button">保存</div>
            </form>
        </div>
    </div>

</div>

@section Scripts{
    <script>
        $(function() {
            $('.ui.form').form({
                on: 'blur',
                fields: {
                    Name: {
                        identifier: 'Name',
                        rules: [
                            {
                                type: 'empty',
                                prompt: '请输入企业名称'
                            }
                        ]
                    },
                    Address: {
                        identifier: 'Address',
                        rules: [
                            {
                                type: 'empty',
                                prompt: '请输入企业地址'
                            }
                        ]
                    },
                    EstablishedTime: {
                        identifier: 'EstablishedTime',
                        rules: [
                            {
                                type: 'empty',
                                prompt: '请输入企业成立时间'
                            }
                        ]
                    },
                    License: {
                        identifier: 'License',
                        rules: [
                            {
                                type: 'empty',
                                prompt: '请输入营业执照号'
                            }
                        ]
                    },
                    CorporationName: {
                        identifier: 'CorporationName',
                        rules: [
                            {
                                type: 'empty',
                                prompt: '请输入法人姓名'
                            }
                        ]
                    },
                    CorporationIdentity: {
                        identifier: 'CorporationIdentity',
                        rules: [
                            {
                                type: 'regExp[/^[1-9][0-9]{5}[1-9][0-9]{3}((0[0-9])|(1[0-2]))(([0|1|2][0-9])|3[0-1])[0-9]{4}$/]',
                                prompt: '请输入正确的身份证号'
                            }
                        ]
                    },
                    OrganizationCode: {
                        identifier: 'OrganizationCode',
                        rules: [
                            {
                                type: 'empty',
                                prompt: '请输入组织机构代码'
                            }
                        ]
                    },
                    LicenseScope: {
                        identifier: 'LicenseScope',
                        rules: [
                            {
                                type: 'empty',
                                prompt: '请输入营业执照经营范围'
                            }
                        ]
                    },

                }
            });
        });
    </script>
}